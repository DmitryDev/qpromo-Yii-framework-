$(document).ready(function() {
    $("body").attr("data-spy","scroll");
    $("body").attr("data-target",".bs-docs-sidebar");
    $("body").attr("data-offset","60");

    $('ul.product_nav li:first').addClass('first');
    $('ul.product_nav li:last').addClass('last');

    $('ul.preload_opts li:even, ul.packaging_opts li:even, ul.accessories_opts li:even').addClass('even');

    $('.preload_checkbox').click(
        function(){
            $(this).toggleClass('checked');

            var $checkbox = $(this).find(':checkbox');
            $checkbox.attr('checked', !$checkbox.attr('checked'));
        });

    $('a[href*=#]:not([href=#])').click(function() {
        /* if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         || location.hostname == this.hostname) {*/
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
                
        var cur_item = $(this);
        if (target.length) {
            $('html,body').animate({
                scrollTop: target.offset().top - 60
            }, 600,'jswing', function() {
                $('.sector_tit').not(this).hide();
                cur_item.parent().find('.sector_tit').fadeIn(200);
                $('ul.nav a').not(this).removeClass('active');
                cur_item.addClass('active');
            });
            return false;
        }
        //}
    });

    function countPrice() {
        var quantity = $('#quantity').val();
        var price1 = $('.q_price.price1 .price cufontext').html();
        var price2 = $('.q_price.price2 .price cufontext').html();
        var price3 = $('.q_price.price3 .price cufontext').html();
        var price4 = $('.q_price.price4 .price cufontext').html();
        var price5 = $('.q_price.price5 .price cufontext').html();

        if(quantity){
            if(quantity >= 100 && quantity < 250){
                var newprice = quantity * price1;
                $('.q_price span').css('color','#D3D3D3');
                $('.q_price.price1 .price, .q_price.price1 .currency').css('color','#404041');
            } else if(quantity >= 250 && quantity < 500){
                var newprice = quantity * price2;
                $('.q_price span').css('color','#D3D3D3');
                $('.q_price.price2 .price, .q_price.price2 .currency').css('color','#404041');
            } else if(quantity >= 500 && quantity < 1000){
                var newprice = quantity * price3;
                $('.q_price span').css('color','#D3D3D3');
                $('.q_price.price3 .price, .q_price.price3 .currency').css('color','#404041');
            } else if(quantity >= 1000 && quantity < 2500){
                var newprice = quantity * price4;
                $('.q_price span').css('color','#D3D3D3');
                $('.q_price.price4 .price, .q_price.price4 .currency').css('color','#404041');
            } else if(quantity >= 2500){
                var newprice = quantity * price5;
                $('.q_price span').css('color','#D3D3D3');
                $('.q_price.price5 .price, .q_price.price5 .currency').css('color','#404041');
            } else {
                $('.q_price span').css('color','#D3D3D3');
            }
            if(newprice){
                var result =  newprice.toFixed(2);
                $("#price .dinpro").html(result);
            } else {
                $("#price .dinpro").html("0.00");
            }
        } else {
            $('.q_price span').css('color','#404041');
        }
        Cufon.refresh();
    }

    $("#quantity").keyup(countPrice);
    countPrice();

    $('.flexslider').flexslider({
        namespace: "flex-",             //{NEW} String: Prefix string attached to the class of every element generated by the plugin
        selector: ".slides > li",       //{NEW} Selector: Must match a simple pattern. '{container} > {slide}' -- Ignore pattern at your own peril
        animation: "fade",              //String: Select your animation type, "fade" or "slide"
        easing: "swing",               //{NEW} String: Determines the easing method used in jQuery transitions. jQuery easing plugin is supported!
        direction: "horizontal",        //String: Select the sliding direction, "horizontal" or "vertical"
        reverse: false,                 //{NEW} Boolean: Reverse the animation direction
        animationLoop: true,             //Boolean: Should the animation loop? If false, directionNav will received "disable" classes at either end
        smoothHeight: true,            //{NEW} Boolean: Allow height of the slider to animate smoothly in horizontal mode
        startAt: 0,                     //Integer: The slide that the slider should start on. Array notation (0 = first slide)
        slideshow: false,                //Boolean: Animate slider automatically
        slideshowSpeed: 3000,           //Integer: Set the speed of the slideshow cycling, in milliseconds
        animationSpeed: 600,            //Integer: Set the speed of animations, in milliseconds
        initDelay: 0,                   //{NEW} Integer: Set an initialization delay, in milliseconds
        randomize: false,               //Boolean: Randomize slide order
        // Usability features
        pauseOnAction: true,            //Boolean: Pause the slideshow when interacting with control elements, highly recommended.
        pauseOnHover: false,            //Boolean: Pause the slideshow when hovering over slider, then resume when no longer hovering
        useCSS: true,                   //{NEW} Boolean: Slider will use CSS3 transitions if available
        touch: true,                    //{NEW} Boolean: Allow touch swipe navigation of the slider on touch-enabled devices
        video: true,                   //{NEW} Boolean: If using video in the slider, will prevent CSS3 3D Transforms to avoid graphical glitches
        // Primary Controls
        controlNav: true,               //Boolean: Create navigation for paging control of each clide? Note: Leave true for manualControls usage
        directionNav: false             //Boolean: Create navigation for previous/next navigation? (true/false)
    });
});